#!/bin/bash
VCMD="/opt/vyatta/sbin/vyatta-cfg-cmd-wrapper"
rc=0

$VCMD begin

if [ "$($VCMD show system login user vyatta authentication public-keys net-dev-deployer)" != "Configuration under specified path is empty" ]; then
    $VCMD delete system login user vyatta authentication public-keys net-dev-deployer
fi
if [ "$($VCMD show system login user vyatta authentication public-keys control-iad01)" != "Configuration under specified path is empty" ]; then
    $VCMD delete system login user vyatta authentication public-keys control-iad01
fi
if [ "$($VCMD show system login user vyatta authentication public-keys iad01)" != "Configuration under specified path is empty" ]; then
    $VCMD delete system login user vyatta authentication public-keys iad01
fi
$VCMD set system login user vyatta authentication public-keys old-control-iad01 key AAAAB3NzaC1yc2EAAAADAQABAAACAQDwHi6xBKiWTJSHvmKUrqCshFIngHhsRCiMHqK8/JwMDO/68dtVJgBXcMYHd3/6KbFNmI4a1A+ZbcKrr0BGFtknlCw8kIHpHg9yU9+4AJtu14RUjRwjel0607a4JvRxta1ik5iFBC8AuSSCmS+aITtdkhZ7YFiHDQXQ04Igui4bTQeINCgCNs8k9VqzL+cJWwzBnMUWGZD8NgVTCF+tRC9M7joHIxMeGrPFHn8FIKweWx5qUZ9dLOPs+fzfVbRR2WKCvkQd6APsvSIY1fq7aXICqOViZdZ++b63b/5pCxBeNyi1XwzYVwC7aLp7EILgm69V3wPk4ovtgHPdqSP2Vi8UeSkXS1fs46szUMIVq4WWE+0ihzgpETnRK+lyxUdmgsCsmvUj7B3Ngs4dwdfQEoDjlQ1IVHCXM5KPYDZACJHs1XVJ2b4KykfUoimpn54A5RxrNBHje/tEt2A4smRV9yW3d68iEwltsHBfy44C8ZyR7eeM+aHmHKkkJnRD8af6xPLzbHbQkIG14hl4l1q+AoVZKLoY+GyztbF1r2c61oR0prw75jMVeTqibzPpKL5rnZNFrp9yTjE7U8WcTn1MINzj90jkSXn1ur/um9kF24hdGS7AnBqGRicVDvTbsMbCRY2R9WyPNOedIz9djJCQ4WxZwS+pDM8aIVZ6VPJA58FDXw==
$VCMD set system login user vyatta authentication public-keys old-control-iad01 type ssh-rsa
$VCMD set system login user vyatta authentication public-keys control-iad01 key AAAAB3NzaC1yc2EAAAADAQABAAACAQDd+ygfi+29xsMBFba5Y8c0BZED1Qfxbvp3KLrWgcW4ldHCOx3UvkQDCoGdBea9oJFB/8s7XkDXdwUTuYoO+zBNrSIKU8e49SVQCCiedn1Nw75+rpKtgRviu1h/VFPy9Yit4SSCxiA0rKD9rRqNGQU0U9GZHvTJS9YBTLyxUYKH2stuIiVwJcLQIqdI31sMNU4LiU5HJQ+9WOJvW+hdOom0aHvy1autp9zQ9Xa+/yxw9P0QNDTjx6XW2KyIkQAQ0czqxQEmxZFm5+h5hD1b8dxv5GVlZMlmptT6W1/umo7iloVckGCks/zN5sH67JPglQWPEhX8C41L+WDzJ2uitNp7uw46VyfUH1vvyAN5jAuAUyp8C4uCNi99dJgAHQh501UPAghmw8zu57Qtr8zE/p1/rt9s/5FnVd5m8qZNc0pJH2aIvkhTU3kEAvHdUqeVUPTFkJE7rm1Bcs6hTIv5+6brnw6OPMQjlmrFzOscIQaetfrXzuZ1tR4yO5SAwQGlCVDAFr9+ZknF4jr8GQ4byHLJDPwjpKer3gS88CD5YfjfIaqtbmC7WwGVv+ZpqzlI31HtiNympTcxdukFVqO9Okd9JlexqnxKLI3SZwvGLdOYtHYC+nrJYrYCWdGextIoQqkXSLWzCL4EZTu1uhdWTR1zAMMYNU9GWXbk1ZxjVBZfWw==
$VCMD set system login user vyatta authentication public-keys control-iad01 type ssh-rsa
$VCMD set system login user vyatta authentication public-keys sc-backlog-1 key AAAAB3NzaC1yc2EAAAADAQABAAACAQDMg2tpcKRcBqlKRLQZ3pLEYb3VFZ59vvN/Ykh1bZRrD1ifOcnH0PY1KOIdyR417PhrVU0oL/cxcYpJ/QSg2+cPxLiCDAMlagogbHV4wdv1wqHn90DO1Vy0Gw6dfu+3MnETu2JVkFs48drESeNITvaTNobRXZ81YUIelMk2GSNnAWSINxVkRZNARphIKAhvG3g1idFDFTlHJ/tMJfZaJ2I+utBpfySZgUVwWvCW8Fsmv/+5vHDjNlhiTQRGyfoxOo7I4WRUXk1ez8gZvW69OSplbZlSvs6LzDTbsG31upNktjUVXTazbPE0aPkA4wcxlYOxkvTZIcBUtXDD6n7WJiZnlRTk7etRN6+oaDLg2XiI/3Uvp6HLlNK8WW8LJPjYHiCQf0q9hkxzqIMkMaGdyOlJmgTKg/ZwAuT4Z9wuiylVt8CeUsdhVcwxtkmpCvLxqXNPTfMNMudMgekRQYrepqI2OEi7J2dtD/QzFjqbGlE2ZeoscUq4l+5WOGs7X9pExeDyfEzAc/h3hgMexb5FNUPbY+iodhRuSB96rSDPXqKH8w+E/bjB9RJoPnWhQHX8J2eMrLjO4gqhA2f0/tjayEBhj6PJdxnp8VRtSXPzXWQAfEQVlTTV44eiy+8tKXW0c7XY8ec9bbs9or6PFTNpLpqvpNi3wS54JCCYnZssfd4MRw==
$VCMD set system login user vyatta authentication public-keys sc-backlog-1 type ssh-rsa
$VCMD set system login user vyatta authentication public-keys sc-backlog-2 key AAAAB3NzaC1yc2EAAAADAQABAAACAQDHVTyx6Jn7lNmHSY8j/9x0P7GAcEoUJ/OXUz+WzAk+JDbawkGAkc59aoieIugFZGJ12RoC2tNQXWMJ/7OjrRQIx9UXizwnJB2aVfojNs5NDBeMNpH0gDu12s1PPEezhND6Bh8Lp1hhS4/4cO1zQ5Rc0lpRGpfiS45Qm43VWuTP4PDzWJD260veywtchOC30RNcTDLYVNrUAKe0DjISAe+E+9KbxzqQL0xUtoeMHOTOw983V9sHxwwP941Ftf54KfUR6mgm0G4zqXN9B0j0soQuY51fgsV268NA4ZJ/XXrMjgRc+IiHFPdTAf7VcsIo3InRrcHLKUv1RAZzneeXw0uBhma3RoriHATuo0t24FqPKda908kkX4xAtyiqtSyUHIAulqGCixXhkvlOjKuSJx2tqaTYvGMXyXIfaCb2mXChciMKfCvc0z+32U0TWFvhgyRFHwvpxsZxDr0OVZ4NFJRxmw0BL6rQNJ6wv92HWsozsl4wPSLr4MFNyNHT1dd3zvd/RNXw4fmbKo7KvtLNexHzXoaA8mDs/wNP7R92AauwwiOfIAgJ6gD/32623arEt/jRplFcTxWW6UeSOMsGkJBWMhaLLUAanLzv6FJc2puttrAXpP3FfBIU5ktrIqDC1VwXY+XhEd2/vuYpQOsyzKfQiFkXt0yavk/RfAtjPMguVQ==
$VCMD set system login user vyatta authentication public-keys sc-backlog-2 type ssh-rsa
$VCMD set system login user vyatta authentication public-keys sc-backlog-3 key AAAAB3NzaC1yc2EAAAADAQABAAACAQCsm4MoS6mPp9/y8yt27nyRRGk+8di6ic1E/z0mE5YwFfLciRQ/wxGGpJR0YGr2WK/5Drs0bxNtE4zEQiw+Sz/ynaoZZXmvjl606kaW0HdoeZzygCcfWH7A/AK1c5S5EItbERtDwAJCOXlwHoBk2FRd7J2v0otM4Ml2lw1Uvo2r7TC6WvDvhknbD3QIWB7cJu1tG9JSaHWNkKCGFUYvfxzyqut1wJt+bEd/EWs1YhT2afHi6IRuv951KU3RhI0SJ5nQkTQrIIENyZr9u3OV6D54yLImHaDeHzXw90+MRao4KudWnqI4DxIfcexKwjev7ZYdpPMzXJm1xpwnBkml1hVNvEfcSrK5XSZZTFfL5sbaedtNg0EQEQcpCfEO5V7Re5/f8i7Fvrniim2XzZfRq6aWY//EOlin8LxUSksg5+WSUYYR14YkDeGmu6p8r7SfaFhfKOPRKcfb60nGm+yrGg1QV6gmVlNlFvk/ewWdapw0JU1VNM3EPdMQxTREs8SAEHsFTWVSll0SrfqvQL4jLUhUwVxVitl86RqkWp2NY9VmsVXInT2AwIf70It0unByFV8YEp68DMTLbmIPWHaa5EWCQqCg3NEd95lE2i0vp+QzUh59YxsEpjWqwkIdTRvNhoSVpgoYW7E7IYqzt/svAXDJbnCDx1fiFilRyqr3iUb3Ww==
$VCMD set system login user vyatta authentication public-keys sc-backlog-3 type ssh-rsa
$VCMD set system login user vyatta authentication public-keys sc-backlog-4 key AAAAB3NzaC1yc2EAAAADAQABAAACAQDNotu40xXw/NrIcqyjYz1KqlHlSdl2kFY+JjBn9S0oL+NarKvQbZBJp76aa96CJfkcxMfzVxOBw46UM1m0/OOV7Rzqb4vFeTtLM1xo4lC/Dhm55tDVDa1cil0Ow9WXHSwBju6CgabvKauyQguBsnv5ogR7J9QBSQiQ4p3A8mL5J2dwn2OqlGMzA5+RYR2esi0D9ShjdJ9fmnxzm6tNfjJFk04B8ObFodO0Lq7pLpPqH6Q2kjFPyDRuFmVSFDiWl/E95hrpdMgx1gPGVBi87wWDD/OQnfngSeYQoGyU9BvNbqOUDIdaROs76ug+wtrD+CnI+cYBk/OePEUl9vdeXf3tBv9SWg2yVImHh+52T82uXbWpSwceIQh5aTIEiVE1aCRa6fj77GMALqK2p0p+HoYaF36UOSca2gA/+5lt5eGTl/1hbim7rAItch4u+c84AS1vedizoy7h1gFQaLtEfN2EmU8dpPD10xwAQj+SG+jQLPhzBQv8yJ3kZB8Qbog/q22vKsZyjLqx/jPWcDIE8D71WEuuz/hUEiYLOlGXoxHAK9HFjHRU4Qgi/OtvhJwrmNF8mRS8IrvL7etrBqApVF4b0wqXu/8w/zulP0AO9BsVsGI5Yvf/j4ISbQf193P16T+14RHL6pqGpSIA6JXm8ehX7VY+1N/cnmvvk0GD4iBW6Q==
$VCMD set system login user vyatta authentication public-keys sc-backlog-4 type ssh-rsa
$VCMD set system login user vyatta authentication public-keys sc-backlog-5 key AAAAB3NzaC1yc2EAAAADAQABAAACAQC5d/IgqblmhcV3URHfSK+ROM1Gwu270muhgJ5BvtAtzRiHkV3EHzBAji1qVeoff6XDq1LWkI3vDWpeiWDAEg0dBXZpNLVgj8NXKTadWUJdcCdT9oy1NADk7hTKwO+dD+012HDVroUuU4mgep84z+ookcv9HobHm6UEbJGHR1HmUnJL5HVmumvZK84QtNIfQ77MfK6hxCuVdZ3uoO95nm2t6G0Lrf47LUZQP6YA9nCYxw8KzXZgS+HpOoy0KAv27j10smdCmrJ55jwJ32aM3hbkA261ExpMP7u3XfxjzPhIwgGq80g8FzoSQIB2HchUPTa/Ne5Zy/bBFPNTXFF1HcGzd/RdBmb/6muTzQHA2Pgx7YnvuEQ/PX2VSzdpY35HrzJ/DBO47NTA3APrC5fjgCn8iQdn0+7yvnqtSsYlKSEnhS7s78dIdw7eNUGzXZoOjKAvKx7OWz/8cgQi19r6UYEUV9axQb1DE2oWbYAVrnZIMzHCJkCw/VL8qOLcgWb9+2Jf7IwRO7OAz85MQ+vYtAqqQyLGJe0kowP58o9fcBF4d7DWJEGQx+h8PR2OZTmCmVBukoH9U/gLwXoq4wLy8iIVZCS63gVTEmNbQOHTHfgShBrNt8DUL8jnrqIiY8UT3J8vOzRmSecp4CXua16tGxwNXYapqnDjwrglGFfsdhYfzw==
$VCMD set system login user vyatta authentication public-keys sc-backlog-5 type ssh-rsa
$VCMD commit_with_error
$VCMD save
$VCMD end

exit $rc
